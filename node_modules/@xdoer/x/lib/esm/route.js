/**
 * URL参数转对象
 * @param searchParams 字符串(默认location.search)
 */
export const convertSearchParamsToObj = function () {
  let searchParams = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : location.search;
  const obj = {};

  if (globalThis.URLSearchParams) {
    const params = new URLSearchParams(searchParams);

    for (let i of params) {
      const [key, value] = i;
      obj[key] = decodeURI(value);
    }
  } else {
    const param = searchParams.match(/([^&=\?]+)=?([^&]*)/g) || [];

    for (let i of param) {
      const [key, value] = i.split('=');
      obj[key] = decodeURI(value);
    }
  }

  return obj;
};
/**
 * 对象转URL参数
 * @param searchObj 默认空对象
 */

export const convertObjToSearchParams = function () {
  let searchObj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  let searchParams = '';

  for (let i in searchObj) {
    searchParams = searchParams + `${i}=${encodeURI(searchObj[i])}&`;
  }

  return searchParams.slice(0, -1);
}; // reference: https://github.com/axios/axios/blob/master/lib/helpers/isAbsoluteURL.js

export function isAbsoluteURL(url) {
  return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url);
}